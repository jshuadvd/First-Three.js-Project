<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <title>Trackball Controls</title>
  </head>

  <style media="screen">
    body {
      margin: 0;
    }

    canvas {
      width: 100%;
      height: 100%;
    }
  </style>

  <body>
    <script src="three.min.js"></script>
    <script src="TrackballControls.js"></script>
    <script type="text/javascript">

      // Create the main threejs components
      var camera,
        controls,
        scene,
        renderer;

      // Call the main functions to render and animate Threejs
      init();
      animate();

      function init() {
        // Initialize the camera the whole width & height of the window and center the position
        camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 10000);
        camera.position.z = 500;

        // Find TrackballControls and control the camera
        controls = new THREE.TrackballControls(camera);

        // Everytime something changes with the control the script will update
        // and re-render the scene
        controls.addEventListener('change', render);

        // Create the world / Scene
        scene = new THREE.Scene();

        // Geometry & material
        var geometry = new THREE.CubeGeometry(100, 100, 100);
        var material = new THREE.MeshNormalMaterial();

        for (var i = 0; i < 100; i++) {
          // Create new mesh and add it to the scene
          var mesh = new THREE.Mesh(geometry, material);

          // Set mesh position equal to the value of mx, then add it to the scene
          mesh.position.x = (Math.random() - 0.5) * 2500;
          mesh.position.y = (Math.random() - 0.5) * 2000;
          mesh.position.z = (Math.random() - 0.5) * 2400;

          mesh.rotation.x = Math.random();
          mesh.rotation.y = Math.random();
          mesh.rotation.z = Math.random();

          scene.add(mesh);
        }

        // Initialize the renderer ----- { alpha: true } ------
        renderer = new THREE.WebGLRenderer();
        renderer.setSize(window.innerWidth, window.innerHeight)
        document.body.appendChild(renderer.domElement);
      }

      // Animate function
      function animate() {
        // Keep refreshing the screen
        requestAnimationFrame(animate);

        // When mouse changes, update
        controls.update();
      }

      // Render Function
      function render() {
        renderer.render(scene, camera);
      }

    </script>
  </body>

</html>
